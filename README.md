# 2322optimalStrike

# Bull Call Spread Optimizer - README

## Overview

This script evaluates Bull Call Spread strategies for the Hang Seng Index to identify optimal strike price combinations.

## Generation Process

Generated by o1-pro using the following prompt:

```
We would like to implement Bull Call Spread with Call that expires at the end of April 2025 (i.e. 29 Apr 2025) to profit from our Predicted trend of the Hang Seng Index.

The below is our predicted trend of Hang Seng Index

Scenario	Target Price Range	Target Price (Median)	Probability
Bull Case	25,200 -- 25,500	25,350	20%
Base Case	23,800 -- 24,200	24,000	60%
Bear Case	21,000 -- 21,500	21,250	20%

We want to find out the optimal:
1. lower strike price (I.e. Long Call strike price)
2. upper strike price(Short Call Strike Price)
To optimise the expected Profit and standard deviation.

I would like you to use Python to try out a reasonable sets of combination of Lower and upper strike price, and plot out a S.D., Expected Profit graph, with each combination as a point on the graph, labelled with a symbol (e.g. A, B, C, D). Also please output the most optimal combination of Lower and Upper strike price.

Please note that the following will be provided:
- Risk Free Rate = 3.42% per annum, for calculating the Future value of premium
# Extract relevant call options data call_strikes = [20000, 20200, 20400, 20600, 20800, 21000, 21200, 21400, 21600, 21800, 22000, 22200, 22400, 22600, 22800, 23000, 23200, 23400, 23600, 23800, 24000, 24200, 24400, 24600, 24800, 25000, 25200, 25400, 25600, 25800, 26000, 26200, 26400, 26600, 26800, 27000, 27200, 27400, 27600, 27800, 28000, 28200, 28400, 28600, 28800, 29000, 29200, 29400, 29600, 29800] # Price data for available strikes call_prices = { 21000: 2478, 21200: 2292, 21400: 2111, 21600: 1933, 21800: 1761, 22000: 1594, 22200: 1434, 22400: 1175, 22600: 1124, 22800: 884, 23000: 780, 23200: 645, 23400: 575, 23600: 476, 23800: 400, 24000: 341, 24200: 307, 24400: 236, 24600: 210, 24800: 165, 25000: 130, 25200: 101, 25400: 88, 25600: 75, 25800: 67, 26000: 47, 26200: 39, 26400: 31, 26600: 35, 26800: 20, 27000: 16, 27200: 13, 27400: 11, 27600: 9, 27800: 8, 28000: 8, 28200: 7, 28400: 6, 28600: 5, 28800: 4, 29000: 3, 29200: 1, 29400: 1, 29600: 1 }

Please use the Price (i.e. closing price) as the premium of both Long and short position for each strike price, as many of the Mid-Price is not available

FYI, for defining the reasonable sets of combination, you don't have to define it in run time by extracting info from the two CSV file
```

## Key Components

- **Market Scenarios**: Bull (25,350, 20%), Base (24,000, 60%), Bear (21,250, 20%)
- **Calculation**: Computes expected profit and standard deviation for each spread combination
- **Visualization**: Plots risk-return profiles with labeled points
- **Optimization**: Identifies best combination based on profit-to-risk ratio

## Output

- Scatter plot of expected profit vs. standard deviation
- Details of optimal strike price combination
